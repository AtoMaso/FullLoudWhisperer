

<div class="container col-md-12">

    <form *ngIf="!isSubmitted" [ngFormModel]="memberForm" (submit)="saveMember()">   
        <div class="row">
          <!-- individual fileds section -->
          <div class="col-md-3 col-md-offset-1">

            <div class="form-group smalltext textgray has-feedback">
              <label for="Name">Name</label>
              <input type="text" ngControl="Name" id="Name" [(ngModel)]="newMember.Name" required 
                    placeholder="Name" class="form-control inputtext" maxlength="50" aria-describedby="nameStatus" />
              <span class="glyphicon glyphicon-user form-control-feedback" aria-hidden="true"></span>
              <span id="nameStatus" class="sr-only">(success)</span>
              <control-messages control="Name" class="text-danger"></control-messages>
            </div>

            <div class="form-group smalltext textgray has-feedback">
              <label for="Username">Username</label>
              <input type="text" ngControl="Username" id="Username" [(ngModel)]="newMember.AtoUsername" required 
                     class="form-control inputtext" maxlength="5"/>
              <span class="glyphicon glyphicon-user form-control-feedback" aria-hidden="true"></span>
              <control-messages control="Username" class="text-danger"></control-messages>
            </div>

            <div class="form-group smalltext textgray has-feedback">
              <label for="Email" class="textgray">Email</label>
              <input type="email" ngControl="Email" id="Email" [(ngModel)]="newMember.Email" required 
                     class="form-control inputtext" maxlength="70"/>
              <span class="glyphicon glyphicon-envelope form-control-feedback" aria-hidden="true"></span>
              <control-messages control="Email" class="text-danger"></control-messages>
            </div>

            <div class="form-group smalltext textgray has-feedback">
              <label for="Phone">Phone</label>
              <input type="text" ngControl="Phone" id="Phone" [(ngModel)]="newMember.PhoneNumber" required 
                     class="form-control inputtext" maxlength="10" />
              <span class="glyphicon glyphicon-earphone form-control-feedback pull-left" aria-hidden="true"></span>
              <control-messages control="Phone" class="text-danger"></control-messages>
            </div>

            <div class="form-group smalltext textgray">
              <label for="Workpoint">Workpoint</label>
              <input type="text" ngControl="Workpoint" id="Workpoint" [(ngModel)]="newMember.Workpoint" required class="form-control inputtext" />
              <control-messages control="Workpoint" class="text-danger" maxlength="6"></control-messages>
            </div>
          </div>

          <!-- drop downs section -->
          <div class="col-md-3">
            <div class="form-group smalltext textgray">
              <label for="Manager">Manager</label>
              <select ngControl="Manager" id="Manager" [(ngModel)]="newMember.Manager" class="form-control inputtext" required>
                <option *ngFor="let manager of _members" [value]="manager.Name">{{ manager.Name }}</option>
              </select>
              <control-messages control="Manager" class="text-danger"></control-messages>
            </div>

            <div class="form-group smalltext textgray">
              <label for="Level">APS Level</label>
              <select ngControl="Level" id="Level" [(ngModel)]="newMember.LevelId" class="form-control inputtext" required>
                <option *ngFor="let level of _levels" [value]="level.LevelId">{{ level.LevelTitle }}</option>
              </select>
              <control-messages control="Level" class="text-danger"></control-messages>
            </div>

            <div class="form-group smalltext textgray">
              <label for="Position">Position</label>
              <select ngControl="Position" id="Position" [(ngModel)]="newMember.PositionId" class="form-control inputtext" required>
                <option *ngFor="let position of _positions" [value]="position.PositionId" required>{{ position.PositionTitle }}</option>
              </select>
              <control-messages control="Position" class="text-danger"></control-messages>
            </div>       

            <div class="form-group smalltext textgray">
              <label for="Location">Location</label>
              <select ngControl="Location" id="Location" [(ngModel)]="newMember.LocalityId" class="form-control inputtext" required>
                <option *ngFor="let location of _locations" [value]="location.LocalityId" required>
                  {{location.Number}} {{location.Street}} {{ location.City}} {{ location.Postcode }}
                </option>
              </select>
              <control-messages control="Location" class="text-danger"></control-messages>
            </div>
          </div>

          <!-- help section -->
          <div class="col-md-4">
            <br />
            <div class="panel panel-heading textgray">
                      <p><strong>Help</strong></p>
                      Please provide all member's information:                  
                    <ul>
                      <li>The name should will be your first and second name and with max of 50 characters in length. </li>
                      <li>Your username should be your ATONET account username.</li>
                      <li>Your email will be your ATO emaill account.The application will not accept domain other then "ato.gov.au".</li>
                      <li>The application will allow email of 70 characters in length".</li>      
                      <li>The phone will be 10 characters in length".</li>         
                      <li>The workpoint will be 3-6 characters in length".</li>                          
                    </ul>
            </div>                     
          </div>

        </div>
         
        <br/>
        <!-- submit button -->
        <div class="row">
            <div class="col-md-10 col-md-offset-1" style="text-align:center">
              <button type="submit" class="btn btn-block btn-success" [disabled]="!memberForm.valid">Submit</button>
        </div>
      </div>

      </form>

    <!-- submitted form -->
    <div *ngIf="isSubmitted" class="panel panel-heading">
        <div class="row">
            <div class="col-md-3 col-md-offset-1">
                <div><strong class="textgray">Name:</strong> <span class="text-info">{{ returnedMember.Name }}</span></div>
                <div><strong class="textgray">Username:</strong><span class="text-info"> {{ returnedMember.AtoUsername }}</span></div>
                <div><strong class="textgray">Email:</strong> <span class="text-info">{{ returnedMember.Email }}</span></div>
                <div><strong class="textgray">Phone: </strong><span class="text-info">{{ returnedMember. PhoneNumber }}</span></div>
                <div><strong class="textgray">Workpoint:</strong> <span class="text-info">{{ returnedMember.Workpoint }}</span></div>
            </div>
            <div class="col-md-5 col-md-offset-1">
                <div><strong class="textgray">Member Manager:</strong> <span class="text-info">{{ returnedMember.Manager }}</span></div>
                <div><strong class="textgray">Level Title:</strong> <span class="text-info">{{ returnedMember.LevelTitle }}</span></div>
                <div><strong class="textgray">Position Title:</strong> <span class="text-info">{{ returnedMember.PositionTitle }}</span></div>
                <div><strong class="textgray">Team Name:</strong> <span class="text-info">{{ returnedMember.TeamName }}</span></div>
                <div>
                    <strong class="textgray">Member Location:</strong>
                  <span class="text-info">
                    {{ returnedMember.LocalityNumber }}
                    {{ returnedMember.LocalityStreet }}
                    {{ returnedMember.LocalitySuburb }}
                    {{ returnedMember.LocalityCity }}
                    {{ returnedMember.LocalityPostcode }}
                    {{ returnedMember.LocalityState }}
                  </span>
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-md-3 col-md-offset-1">
                <a href="" [routerLink]="['Members', {teamid: newMember.TeamId} ]" class="btn btn-sm btn-success">Back To Members</a>
            </div>
        </div>
    </div>

  <my-spinner [isRunning]="isRequesting"></my-spinner>

</div>



